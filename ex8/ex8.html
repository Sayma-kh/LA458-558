<!DOCTYPE html>
<html>
    <head>      
<title> Exercise 8: Create GeoJSON and add to Leaflet </title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" /> <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
       <script src="https://sayma-kh.github.io/LA458-558/ex8/map.geojson"></script> 
         <script src="https://indicator.extension.iastate.edu/classes/leaflet-ajax-gh-pages/dist/leaflet.ajax.min.js"></script>
  <style>
        
        body{background-color:beige}
        h1{color: black; font-family: inherit; text-align: center; font-size: 35px}
        h2{color: black; font-family: inherit; text-align: center; font-size: 20px}
        p{color: black; font-family: verdana; font-size: 15px; text-align:center}
        div{vertical-align: middle;
      margin: auto} 
        #map {
            width: 1200px;
            height:500px;
            vertical-align: center;
        }
    </style>
</head>
  <body>
   <h1>"Exercise 8: Create GeoJSON and add to Leaflet"</h1>
<h2>Sayma Khajehei<br> March 14th, 2019</h2> 
   <div id='map'></div>
      <script>
   var map = L.map('map').setView([41, -100], 4);
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
	attribution: 'The map contributors',
	maxZoom: 18
}).addTo(map); 
      </script>
      <script>    
         var myURL = "https://sayma-kh.github.io/LA458-558/ex8/map.geojson";

var geojsonLayer = new L.GeoJSON.AJAX(myURL , {
    pointToLayer: function (feature, latlng) {
        return new L.CircleMarker(latlng, {
            stroke: true,
            weight: 0, //stroke weight
            //color: '#000000', //stroke color
            opacity: 1.0, //stoke opacity
            fillColor: 'red',
            fillOpacity: 0.7,
            radius: feature.properties.NumTitles + 2,
        });
    },

    onEachFeature: function (feature, layer) {
        htmlText = "<strong>" + feature.properties.Name + "</strong>" + "<div class='centered'>" + "<img src='" + feature.properties.LogoURL + "' width='100'>" + "</div>";
        layer.bindPopup(htmlText);
        textForTooltip = feature.properties.Name + " finished " + feature.properties.AcceptanceRate + " in their group this season.";
		layer.bindTooltip(textForTooltip);
    }
}).addTo(map);
      </script>   
     
      </body>
</html>